Flush Test : https://docs.microsoft.com/en-us/windows-hardware/test/hlk/testref/2dec1f67-b506-4434-8bdf-763147ad8f0b
                                       /zh-tw/

Reference : https://www.csimn.com/CSI_pages/SNMP101.html
            https://zh.wikipedia.org/wiki/%E7%AE%80%E5%8D%95%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AE

This test leverages SNMP-controlled, programmable power strips to validate that the driver, 
controller, and underlying device honor the appropriate flush command by persisting data to the device.

此測試會利用 SNMP控制的延長線來驗證受測Device再接收到Flush Command後，可以確保Device內儲存資料的完整性

1.Write a known pattern directly to disk (by-passing the file system) and wait for writes to complete.
2.Send Flush command and wait for completion.
3.Immediately trigger sudden power loss.
4.On reboot, read back and verify that all data that was written to disk before the flush command.
5.Repeat cycle with a different write scenario (different size, pattern, location, etc.).

1.選擇一種資料寫入的模式 資料寫入Disk內，並等待寫入完成
2.送出Flish Command
3.瞬間斷電
4.Reboot之後，讀回寫入的檔案並確認其完整性
5.進行下一次不同模式的測試


Running the test

1.  This test runs both on boot and non-boot controller compared to the older test which could only run on non-boot controller.
    This enables testing of both boot disks and data disks.
    For boot disk, the multithreaded scenarios are skipped, whereas for a data disk, all the scenarios are executed.

測試會使用開機碟與測試用的Storage Device

2.  Setup required for the test: Connect a power distribution unit (PDU), controllable via SNMP, to the HLK test machine.

測試需要將可由SNMP控制的電源延長線與HLK機器做連接

3.  Power strip should have a valid IP address associated as the test uses both the IP address and the port to initiate sudden power loss.

延長線需要有一個IP，讓測是可以透過這個IP Port來執行斷電

4.  Power strip can be connected locally/remotely to machine, please see power strip manual for configuration details.

延長線要可以透過本地端或是遠端連線到機器上

Power-strip
The test supports providing OID value for SNMP connections for a PDU. 
The default OID is set as .1.3.6.1.4.1.318.1.1.12.3.3.1.1.4 as it is the one that 
is used by APC and it can be changed when providing parameters to the test based on the OID of the PDU. 
The only limit as of now is the ASN value as mentioned below. Other PDU models should have the same ASN value.

ImmediatePowerOn = 1
ImmediatePowerOff = 2
ImmediateReboot = 3

此項測試支援提供OID值給延長線，有Defalut值，如上
